function OmitterDom(b,a){this.dom=b;this.domContent=b.innerText;this.count=a;this.init()}OmitterDom.prototype.init=function(){var e=this.dom.childNodes.length-1;while(-1<e){this.dom.removeChild(this.dom.childNodes[e]);e=(e-1)|0}var b=document.createElement("div");var a=document.createDocumentFragment();b.className="omitter-sentence";var d=0;var f=this.domContent.length;while(d<f){var g=document.createElement("span");var c=document.createTextNode(this.domContent[d]);g.appendChild(c);a.appendChild(g);d=(d+1)|0}b.appendChild(a);this.root=b;this.dom.appendChild(b)};OmitterDom.prototype.do1=function(){var d=new Array();var b=0;var c=this.root.childNodes.length;while(b<c&&d.length<this.count){var e=this.root.childNodes[b].offsetTop;if(d.indexOf(e)==-1){d.push(e)}b=(b+1)|0}this.max=d[Math.min(d.length-1,this.count)];this.maxh=0;var a=this.root.childNodes.length-1;while(-1<a){if(this.root.childNodes[a].offsetTop==this.max){this.maxh=Math.max(this.maxh,this.root.childNodes[a].offsetHeight)}a=(a-1)|0}};OmitterDom.prototype.do2=function(){this.root.style.maxHeight=""+(this.max+this.maxh).toString()+"px"};OmitterDom.prototype.omit=function(){this.do1();this.do2()};OmitterDom.prototype.unomit=function(){this.root.style.maxHeight=null};function Omitter(b,a){this.doms=Array.prototype.slice.call(b).map(function(c){return new OmitterDom(c,a)})}Omitter.prototype.omit=function(){this.doms.map(function(a){a.do1()});this.doms.map(function(a){a.do2()})};Omitter.prototype.unomit=function(){this.doms.map(function(a){a.unomit()})};