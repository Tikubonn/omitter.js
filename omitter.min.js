function OmitterDom(b,a){this.dom=b;this.domContent=b.innerText;this.count=a;this.init()}OmitterDom.prototype.init=function(){var c=this.dom.childNodes.length-1;while(-1<c){this.dom.removeChild(this.dom.childNodes[c]);c=(c-1)|0}var a=document.createDocumentFragment();var b=0;var d=this.domContent.length;while(b<d){var f=document.createElement("span");var e=document.createTextNode(this.domContent[b]);f.appendChild(e);a.appendChild(f);b=(b+1)|0}this.dom.appendChild(a)};OmitterDom.prototype.do1=function(){var c=new Array();var a=0;var b=this.dom.childNodes.length;while(a<b){var d=this.dom.childNodes[a].offsetTop;if(c.indexOf(d)==-1){c.push(d)}a=(a+1)|0}this.max=c[Math.min(c.length,this.count-1)]};OmitterDom.prototype.do2=function(){var a=new Array();var b=this.dom.childNodes.length-1;while(-1<b){this.dom.childNodes[b].className="";b=(b-1)|0}var d=this.dom.childNodes.length-1;while(-1<d){if(this.max<this.dom.childNodes[d].offsetTop){a.push(this.dom.childNodes[d])}d=(d-1)|0}var c=a.length-1;while(-1<c){a[c].className="omitter-hidden";c=(c-1)|0}};OmitterDom.prototype.do3=function(){return this.dom.childNodes[this.dom.childNodes.length-1].offsetTop};OmitterDom.prototype.omit=function(){this.do1();this.do2();this.do3()};OmitterDom.prototype.unomit=function(){var a=this.dom.childNodes.length-1;while(-1<a){this.dom.childNodes[a].className="omitter";a=(a-1)|0}};function Omitter(b,a){this.doms=Array.prototype.slice.call(b).map(function(c){return new OmitterDom(c,a)})}Omitter.prototype.omit=function(){this.doms.map(function(a){a.do1()});this.doms.map(function(a){a.do2()});this.doms.map(function(a){a.do3()})};Omitter.prototype.unomit=function(){this.doms.map(function(a){a.unomit()})};