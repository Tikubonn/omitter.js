function OmitterDom(c,b,a){this.dom=c;this.domContent=c.innerText;this.cramp=null;this.crampContent=a;this.crampWidth=null;this.charactors=null;this.charactorsWidth=null;this.charactorsWidths=null;this.charactorsHeights=null;this.charactorsTops=null;this.charactorsLefts=null;this.root=null;this.maxTop=null;this.maxHeight=null;this.count=b;this.init()}OmitterDom.prototype.init1=function(){var a=this.dom.childNodes.length-1;while(-1<a){this.dom.removeChild(this.dom.childNodes[a]);a=(a-1)|0}};OmitterDom.prototype.init2=function(){var h=document.createElement("div");h.classList.add("omitter");var d=document.createElement("div");var c=document.createDocumentFragment();var e=0;var f=this.domContent.length;while(e<f){var b=document.createElement("span");var g=document.createTextNode(this.domContent[e]);b.appendChild(g);b.classList.add("omitter-charactor");c.appendChild(b);e=(e+1)|0}if(this.crampContent&&this.crampContent.length){var j=document.createElement("span");var a=document.createTextNode(this.crampContent);j.appendChild(a);j.classList.add("omitter-cramp");h.appendChild(j);this.cramp=j}d.appendChild(c);this.charactors=d;h.appendChild(d);this.dom.appendChild(h);this.root=h};OmitterDom.prototype.init=function(){this.init1();this.init2()};OmitterDom.prototype.omit1=function(){};OmitterDom.prototype.omit2=function(){var a=this.cramp.offsetWidth;var g=this.charactors.offsetWidth;var e=new Array();var b=new Array();var f=new Array();var c=0;var d=this.charactors.childNodes.length;while(c<d){e.push(this.charactors.childNodes[c].offsetHeight);b.push(this.charactors.childNodes[c].offsetLeft);f.push(this.charactors.childNodes[c].offsetTop);c=(c+1)|0}this.crampWidth=a;this.charactorsWidth=g;this.charactorsHeights=e;this.charactorsLefts=b;this.charactorsTops=f};OmitterDom.prototype.omit3=function(){var c=new Array();var a=0;var b=this.charactorsTops.length;while(a<b){var d=this.charactorsTops[a];if(c.indexOf(d)==-1){c.push(d)}a=(a+1)|0}this.maxTop=c.length==0?0:c[Math.min(c.length-1,this.count-1)];this.hideable=this.count<c.length;if(this.hideable){this.cramp.classList.remove("omitter-hidden")}else{this.cramp.classList.add("omitter-hidden")}};OmitterDom.prototype.omit4=function(){this.maxHeight=0;var a=this.charactorsTops.length-1;while(-1<a){if(this.charactorsTops[a]==this.maxTop){this.maxHeight=Math.max(this.maxHeight,this.charactorsHeights[a])}a=(a-1)|0}};OmitterDom.prototype.omit5=function(){var a=false;var b=this.charactors.childNodes.length-1;while(-1<b){if(this.maxTop<this.charactorsTops[b]){this.charactors.childNodes[b].classList.add("omitter-hidden")}else{if(this.maxTop==this.charactorsTops[b]){if(this.crampWidth<this.charactorsWidth-this.charactorsLefts[b]){if(!a&&this.hideable){a=true;this.cramp.style.top=this.charactorsTops[b]+"px";this.cramp.style.left=this.charactorsLefts[b]+"px";this.charactors.childNodes[b].classList.add("omitter-hidden")}else{this.charactors.childNodes[b].classList.remove("omitter-hidden")}}else{this.charactors.childNodes[b].classList.add("omitter-hidden")}}else{this.charactors.childNodes[b].classList.remove("omitter-hidden")}}b=(b-1)|0}this.root.style.maxHeight=(this.maxTop+this.maxHeight).toString()+"px"};OmitterDom.prototype.omit=function(){this.omit1();this.omit2();this.omit3();this.omit4();this.omit5()};OmitterDom.prototype.unomit1=function(){this.cramp.classList.add("omitter-hidden")};OmitterDom.prototype.unomit2=function(){var a=this.charactors.childNodes.length-1;while(-1<a){this.charactors.childNodes[a].classList.remove("omitter-hidden");a=(a-1)|0}};OmitterDom.prototype.unomit3=function(){this.root.style.maxHeight=null};OmitterDom.prototype.unomit=function(){this.unomit1();this.unomit2();this.unomit3()};function Omitter(c,b,a){this.status=false;if(window.jQuery&&c instanceof window.jQuery){c=c.toArray()}this.doms=Array.prototype.slice.call(c).map(function(d){return new OmitterDom(d,b,a)})}Omitter.prototype.omit=function(){this.status=true;this.doms.map(function(a){a.omit1()});this.doms.map(function(a){a.omit2()});this.doms.map(function(a){a.omit3()});this.doms.map(function(a){a.omit4()});this.doms.map(function(a){a.omit5()})};Omitter.prototype.unomit=function(){this.status&&this.doms.map(function(a){a.unomit()});this.status=false};Omitter.prototype.toggle=function(){this.status?this.unomit():this.omit()};Omitter.prototype.update=function(){this.status?this.omit():this.unomit()};